<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Single Cell Data Browser (powered by UCSC Genome Browser)</title>
<script src="components/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
<link rel="import" href="components/bower_components/genemo-visual-components/chart-controller/chart-controller.html">
<link rel="import" href="components/bower_components/genemo-visual-components/genemo-styles.html">
<link rel="import" href="components/bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="components/bower_components/genemo-visual-components/giv-main/giv-main.html">
<style is="custom-style" include="genemo-shared-styles iron-flex iron-positioning">
  body {
    font-family: 'Roboto';
    font-size: 14px;
  }
  h2 {
    font-family: 'Roboto';
    font-size: 16px;
    line-height: 1.4em;
    margin: 1em 1em 0.5em 1em;
  }
  p {
    margin: 0.5em 1.5em;
    line-height: 1.4em;
  }
</style>
<script language="javascript">
</script>
</head>

<body unresolved class="fullbleed layout vertical">
  <script>
    /* eslint-disable */
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3695776-4', 'auto');
    ga('send', 'pageview');
    /* eslint-enable */
  </script>
  <paper-drawer-panel>
    <div drawer class="layout vertical">
      <paper-input id="mainWindowCoor" label="Upper window coordinates" floatingLabel="true" value="{{mainCoor}}"></paper-input>
      <div>
        <div class="smallText"><span id="Threshold" class="text">Threshold (percentile)</span></div>
        <paper-slider value="{{threshold}}" max="100" step="5" editable></paper-slider>
      </div>
      <div class="layout horizontal">
        <paper-button class="colored" raised id="updateChart" on-tap="updateTracks">Update</paper-button>
        <paper-button raised id="cancelUpdateChart" on-tap="resetTracks">Cancel</paper-button>
      </div>
      <genemo-card disable-folding class="flex flexFillGenemoCard">
        <chart-track-group-list class="genemoBody" id="mainTrackList"
          group-id-list='["genes", "interaction", "customTracks"]' setting-key="visibility"
          no-controls>
        </chart-track-group-list>
      </genemo-card>
      <custom-track-controller id="mainCTController"></custom-track-controller>
    </div>
    <div main class="layout vertical">
      <paper-toolbar id='mainToolbar'>
        <paper-icon-button icon='menu' paper-drawer-toggle></paper-icon-button>
        <div class="title">GIVe (Genomic Interaction Visualizer)
        </div>
        <div class="tooltipMouseOver" id="navigationHelp">
          <iron-icon icon="icons:help"></iron-icon>
          How to navigate
        </div>
        <paper-tooltip fit-to-visible-bounds for="navigationHelp">
          To navigate GIVe:
          <ul>
            <li><em>Drag horizontally</em> on any tracks or the coordinates to move left / right</li>
            <li>Move mouse cursor <strong>onto the coordinates</strong> and <em>use mouse wheel</em> to zoom in / out.</li>
          </ul>
        </paper-tooltip>
      </paper-toolbar>
      <div class="content flex layout vertical">
        <chart-area class="flex" id="mainChartArea" num-of-subs="2"
          group-id-list='["genes", "interaction", "customTracks"]'>
        </chart-area>
        <div class="dataReference" hidden$="[[!species.settings.isGITARRelated]]">
          <h2><strong><span id="Data References" class="text">Data References</span></strong></h2>
          <p><span id="Geonomegitar" class="text">Please refer to
            <a href="http://data.genomegitar.org/">http://data.genomegitar.org/</a>
            for description and download of all data sets used here.</span>
          </p>
        </div>
      </div>
    </div>
  </paper-drawer-panel>

  <div class="header" style="height: 200px; float: right; display: none;" onclick="togglePanel('trackSettings');"> <span id="trackSettingsIndicator">â‰ª</span>
    <div class="rotated">Track Info &amp; Settings</div>
  </div>
  <div id="singleCellTitle" style="z-index: 5; width: 100%; left: 0px; top: 0px; position: fixed; height: auto;">
    <div id="singleCellDescHolder" style="width: 100%; height: auto; padding: 1px; background: #FFF; z-index: 5; display: none;">
      <p class="Header2">Single-cell RNA-Seq Genome Browser <span class="normaltext"><strong>(powered by <a href="http://genome.ucsc.edu/" target="_parent">UCSC Genome Browser</a>)</strong></span></p>
      <p class="normaltext">Welcome to the single-cell genome browser! It presents 49 new single-cell RNA-seq datasets (<a href="http://genome.cshlp.org/content/24/11/1787.full" target="_blank">Biase <em>et al.</em>, <strong>Genome Research</strong>, 24:1787-1796</a>) along with mouse genome assembly GRCm38 (mm10) for comparative studies. Published RNA-seq datasets of <span class="ref"><span class="refnum">sperms</span> <span class="refbody">Gan, H. <em>et al.</em> Dynamics of 5-hydroxymethylcytosine during mouse spermatogenesis. <em>Nat Commun</em> 4 [<a href="http://www.ncbi.nlm.nih.gov/pubmed/23759713" target="_blank">PUBMED</a>] [<a href="http://www.nature.com/ncomms/2013/130613/ncomms2995/full/ncomms2995.html" target="_blank">ARTICLE</a>]</span></span> and <span class="ref"><span class="refnum">oocytes</span> <span class="refbody">Ramskold, D. <em>et al.</em> Full-length mRNA-Seq from single-cell levels of RNA and individual circulating tumor cells. <em>Nat Biotech</em> 30, 777-782 [<a href="http://www.ncbi.nlm.nih.gov/pubmed/22820318" target="_blank">PUBMED</a>] [<a href="http://www.nature.com/nbt/journal/v30/n8/full/nbt.2282.html" target="_blank">ARTICLE</a>]</span></span> are also incorporated. To show these tracks, please scroll down the page and turn corresponding tracks (sperm and/or oocyte) on in "Single Cell Expression Profiling for Embryos group".</p>
      <p class="normaltext">The interface and usage of Single-cell Genome Browser is similar to <a href="http://genome.ucsc.edu/" target="_blank">UCSC Genome Browser</a>.</p>
      <p class="normaltext">The height of the signals in every track is the natural log of number of reads stacked at the genomic position. <strong>The scale is set for each track to normalize the effect from different total numbers of reads for all samples. Therefore, in the browser, signals across cells at the same genomic region would be comparable by height in image.</strong> To see the total number of mapped reads, please click the button to the left of the track or click track name in track settings below.
      <p class="normaltext">For questions, please contact Xiaoyi Cao (<a href='mailt&#111;&#58;x9%&#54;3%61o&#37;&#52;0%&#55;5&#99;s&#100;&#46;ed&#117;'>x9cao <strong>at</strong> ucsd <strong>dot</strong> edu</a>).</p>
      <p class="normaltext">
        <input name="DoNotShow" type="checkbox" id="DoNotShow" value="true" <?php echo (!isset($_COOKIE['NoSingleCellIntro']) || $_COOKIE['NoSingleCellIntro'] != 'true')? "": "checked"; ?>>
        <label for="DoNotShow">Do not show this automatically in the future.</label>
      </p>
    </div>
    <div id="singleCellButton" class="floatingindex" style="width: 100%; overflow: hidden;" onClick="togglePanelUpdown();"><span id="indextext"><span class="trianglearrow">&#x25BC;</span> Single-cell RNA-Seq Genome Browser on Mouse Dec. 2011 (GRCm38/mm10) Assembly</span></div>
  </div>
  <div id="trackSettings" class="trackSettingsClass" style="display: none;">
    <div id="trackSettingsHeader" class="headerNoHover2">Track information &amp; settings</div>
    <div style="position: absolute; top: 45px; left: 0px;">
      <iframe onload="trackSettingsOnLoad();" id="trackSettingFrame" name="trackSettingFrame" class="trackSettingFrame" src="about:blank">Your browser doesn't support &lt;iframe&gt; tag. You need a browser supporting &lt;iframe&gt; tag to use Comparison Browser. (Latest versions of mainstream browsers should all support this tag.)</iframe>
      <div class="header buttons" style="float: right; width: 150px;" onclick="hidePanel('trackSettings');">Close</div>
      <div style="clear: both"></div>
    </div>
  </div>
</body>
</html>
